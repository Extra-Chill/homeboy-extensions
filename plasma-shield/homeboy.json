{
  "id": "plasma-shield",
  "name": "Plasma Shield",
  "version": "1.0.0",
  "icon": "shield.lefthalf.filled",
  "description": "Network security control for AI agent fleets",
  "author": "Extra Chill",
  "homepage": "https://github.com/Extra-Chill/plasma-shield",

  "runtime": {
    "type": "shell",
    "entrypoint": "scripts/run.sh"
  },

  "inputs": [
    {
      "id": "view",
      "type": "select",
      "label": "View",
      "default": "status",
      "options": [
        {"value": "status", "label": "Shield Status"},
        {"value": "agents", "label": "Agent Modes"},
        {"value": "logs", "label": "Traffic Logs"},
        {"value": "rules", "label": "Blocking Rules"}
      ],
      "arg": "--view"
    },
    {
      "id": "agent",
      "type": "text",
      "label": "Agent Filter",
      "placeholder": "Filter by agent ID (optional)",
      "arg": "--agent"
    },
    {
      "id": "limit",
      "type": "stepper",
      "label": "Result Limit",
      "default": 50,
      "min": 10,
      "max": 500,
      "arg": "--limit"
    }
  ],

  "output": {
    "schema": {
      "type": "array",
      "items": {
        "timestamp": "string",
        "agent": "string", 
        "domain": "string",
        "action": "string",
        "mode": "string",
        "reason": "string"
      }
    },
    "display": "table",
    "selectable": true
  },

  "actions": [
    {
      "id": "lockdown",
      "label": "ðŸ”’ Lockdown Selected",
      "type": "builtin",
      "builtin": "copy-column",
      "column": "agent"
    },
    {
      "id": "export",
      "label": "Export CSV",
      "type": "builtin",
      "builtin": "export-csv"
    },
    {
      "id": "copy-json",
      "label": "Copy JSON",
      "type": "builtin",
      "builtin": "copy-json"
    }
  ],

  "settings": [
    {
      "id": "router_url",
      "type": "text",
      "label": "Shield Router URL",
      "placeholder": "http://shield.example.com:9000",
      "default": "http://localhost:9000"
    },
    {
      "id": "api_key",
      "type": "text", 
      "label": "API Key",
      "placeholder": "Optional API key",
      "default": ""
    }
  ],

  "requires": {}
}
